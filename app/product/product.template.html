<br>
<br>

<div class="row">
    <div class="col-md-4">
    </div>
        <div class="col-md-2">
            <div align="left" class="categoryMenu">
                <select ng-model = "selectedCategory">
                    <option value="">All</option>
                    <option ng-repeat="category in categories" value="{{category.id}}">
                        {{category.name}}

                    </option>
                </select>
            </div>

            <div align="left" class="searchBar">
                <input ng-model="searchTerm" placeholder="Search Product">

                </input>
            </div>
            <div class="col-md-4">

            </div>
        </div>


</div>








<ul class="list-group">
    <li class="list-group-item" ng-repeat="product in products | filter: {categoryId: selectedCategory}| filter: {name: searchTerm}" >
        <div class="row">
            <div class="col-md-4">
            </div>
                <div class="col-md-2">
                    <p class="show-description" ng-click="showDetails = ! showDetails">{{product.name}}</p>
                    {{product.price + 'kr'}}<br>

                        <div class="product-details" ng-class="{hidden: ! showDetails}">
                         {{product.description}}
                        </div>
                </div>
            <div id="image-box" class="col-md-4">
                <img class="productImage thumbnail zoom pull-left" ng-src="{{product.imageUrl}}">
                <button title = "{{isLoggedIn  ? '' : 'Log in to add items to cart.'}}"  class="{{product.unitsInStock == 0 ? 'btn btn-danger' : 'btn btn-success'}}" ng-controller="cartController" ng-disabled="!isLoggedIn || product.unitsInStock == 0"
                        ng-click="addToCart(product)">Add to cart</button><br>
                <span ng-if="product.unitsInStock > 0"># in stock: {{product.unitsInStock}}</span>
                <span ng-if="product.unitsInStock == 0">The product is currently out of stock.</span> <br><br>
            </div>
        </div>
    </li>
</ul>

